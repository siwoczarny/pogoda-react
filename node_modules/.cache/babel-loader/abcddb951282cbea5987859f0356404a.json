{"ast":null,"code":"var _jsxFileName = \"/Users/maciejchrustowski/ReactApps/weatherapp/src/components/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport SearchBar from './SearchBar';\nimport WeatherInfo from './WeatherInfo';\nconst APIkey = 'a67f1322578aaa1a1bbea6ca22e0f941';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: '',\n      date: '',\n      city: '',\n      coordination: '',\n      temp: '',\n      temp_min: '',\n      temp_max: '',\n      pressure: '',\n      humidity: '',\n      windspeed: '',\n      weathertype: '',\n      err: ''\n    };\n\n    this.handleInputChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n\n    this.changePhotoImg = data => {\n      switch (weathertype) {\n        case 'Clouds':\n          console.log(\"Zmiana pochmurno\");\n          break;\n\n        case 'Clear':\n          console.log(\"Zmiana czysto\");\n          break;\n\n        case 'Rain':\n          console.log(\"Zmiana deszczowo\");\n          break;\n\n        case 'Drizzle':\n        case 'Mist':\n          console.log(\"Zmiana wilgotno\");\n          break;\n\n        case 'Snow':\n          console.log(\"Zmiana śniegowo\");\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.handleCitySubmit = e => {\n      e.preventDefault();\n      const API = `https://api.openweathermap.org/data/2.5/weather?q=${this.state.value}&APPID=${APIkey}&units=metric&lang=pl`;\n      fetch(API).then(response => {\n        if (response.ok) {\n          return response;\n        }\n\n        throw Error(\"Nie udało się pobrać danych!\");\n      }).then(response => response.json()).then(data => {\n        const time = new Date().toLocaleString();\n        this.setState(prevState => ({\n          err: false,\n          date: time,\n          city: prevState.value,\n          temp: data.main.temp,\n          temp_min: data.main.temp_min,\n          temp_max: data.main.temp_max,\n          pressure: data.main.pressure,\n          humidity: data.main.humidity,\n          windspeed: data.wind.speed,\n          weathertype: data.weather.main\n        }));\n        this.changePhotoImg();\n      }).catch(err => {\n        console.log(err);\n        this.setState(prevState => ({\n          err: true,\n          city: prevState.value\n        }));\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"header\",\n      id: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Pogoda\")), React.createElement(WeatherInfo, {\n      weather: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(SearchBar, {\n      value: this.state.value,\n      change: this.handleInputChange,\n      submit: this.handleCitySubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/maciejchrustowski/ReactApps/weatherapp/src/components/App.js"],"names":["React","Component","SearchBar","WeatherInfo","APIkey","App","state","value","date","city","coordination","temp","temp_min","temp_max","pressure","humidity","windspeed","weathertype","err","handleInputChange","e","setState","target","changePhotoImg","data","console","log","handleCitySubmit","preventDefault","API","fetch","then","response","ok","Error","json","time","Date","toLocaleString","prevState","main","wind","speed","weather","catch","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport SearchBar from './SearchBar';\nimport WeatherInfo from './WeatherInfo';\nconst APIkey = 'a67f1322578aaa1a1bbea6ca22e0f941'\n\nclass App extends Component {\n  state = { \n    value: '',\n    date: '',\n    city: '',\n    coordination: '',\n    temp: '',\n    temp_min: '',\n    temp_max: '',\n    pressure: '',\n    humidity: '',\n    windspeed: '',\n    weathertype: '',\n    err: '',\n   }\n  \n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    })\n  }\n\n  changePhotoImg = (data) => {\n  switch (weathertype) {\n      case 'Clouds':\n        console.log(\"Zmiana pochmurno\");\n        break;\n\n        case 'Clear':\n        console.log(\"Zmiana czysto\");\n        break;\n\n        case 'Rain':\n        console.log(\"Zmiana deszczowo\");\n        break;\n\n        case 'Drizzle':\n        case 'Mist':\n        console.log(\"Zmiana wilgotno\");\n        break;\n\n        case 'Snow':\n        console.log(\"Zmiana śniegowo\");\n        break;\n\n        default:\n          break;\n    }\n  }\n\n  handleCitySubmit = (e) => {\n      e.preventDefault()\n      const API = `https://api.openweathermap.org/data/2.5/weather?q=${this.state.value}&APPID=${APIkey}&units=metric&lang=pl`;\n\n      fetch(API)\n      .then(response => {\n        if(response.ok) {\n          return response\n        }\n        throw Error(\"Nie udało się pobrać danych!\")\n      })\n\n      .then(response => response.json())\n      .then(data => {\n        const time = new Date().toLocaleString()\n        this.setState(prevState => ({\n          err: false,\n          date: time,\n          city: prevState.value,\n          temp: data.main.temp,\n          temp_min: data.main.temp_min,\n          temp_max: data.main.temp_max,\n          pressure: data.main.pressure,\n          humidity: data.main.humidity,\n          windspeed: data.wind.speed,\n          weathertype: data.weather.main,\n        }))\n        this.changePhotoImg()\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState(prevState => ({\n          err: true,\n          city: prevState.value\n        }))\n      })\n  }\n\n  render() { \n    return (\n      <div className=\"app\">\n        <header className=\"header\" id=\"header\">\n          <h1>Pogoda</h1>\n        </header>\n        <WeatherInfo weather={this.state} />\n        <SearchBar\n          value={this.state.value}\n          change={this.handleInputChange}\n          submit={this.handleCitySubmit}\n        />\n      </div>\n    );\n  }\n}\n \nexport default App;"]},"metadata":{},"sourceType":"module"}